<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>23 de Enero del 2025 - 20:19Hrs.</title>
    <style>
        body {
            margin: 0;
            background-color: black;
            color: white;
            font-family: Arial, sans-serif;
        }

        iframe {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
            border: none;
        }

        .BoxTitulo h1 {
            font-family: Arial, sans-serif;
            color: white;
            margin: 0;
        }

        #currentDateTime {
            font-size: 2rem;
        }

        #seconds {
            color: red;
        }

        .mainText {
            position: relative;
            top: 20px;
            left: 20px;
            width: 90%; /* Ajusta el ancho del texto */
            text-align: justify;
            line-height: 1.5;
            background-color: rgba(0, 0, 0, 0.5);
            padding: 10px;
            border-radius: 8px;
        }

        /* Botones */
        .button {
            padding: 10px 20px;
            font-size: 16px;
            margin: 10px;
            cursor: pointer;
            border-radius: 5px;
            border: none;
        }

        .button-red {
            background-color: red;
            color: white;
        }

        .button-blue {
            background-color: blue;
            color: white;
        }

        /* Estilo para ocultar contenido */
        .hidden {
            display: none;
        }
    </style>
</head>

<body>
    <!-- Fondo interactivo desde GitHub -->
    <iframe src="https://raw.githubusercontent.com/Ivanovas1/fluidpage/d29ebd510c34a034c0a5b04a6320a10d392734ed/fluid.html"></iframe>

    <!-- Título dinámico -->
    <div class="BoxTitulo">
        <h1 id="currentDateTime"></h1>
    </div>

    <!-- Texto principal -->
    <div class="mainText">
        <p>
            ¡Bienvenida!<br>
            Quiero mencionarte un par de cosas antes de que continues: <br>
            1.- Presiona el boton que dice: <span style="color: darkred;"><b>"Close Controls"</b></span> para que no te estorben. <br>
            2.- El boton rojo ocultará todo el contenido de texto existente en la pagina. La finalidad de esto es que puedas utilizar el fondo para jugar un poco pasando el dedo por la pantalla. <br>
            3.- El reloj que coloqué se actualiza en tiempo real, y en determinadas horas o momentos del dia; el mensaje que se muestra al inicio, sera diferente. <br>
            4.- Al hacer click sobre el <span style="color: rgb(0, 100, 155);"><b>botón azúl</b></span> desplegarás el siguiente bloque que aloja el texto que no puedes leer. No lo hagas si no es momento. No creo que lo abras, pero en fin. Depende de ti. <br>
        </p>
    </div>

    <!-- Botones -->
    <div>
        <button class="button button-red" id="toggleContentButton">Ocultar contenido</button>
        <button class="button button-blue" id="toggleTextButton">Mostrar bloque oculto</button>
    </div>

    <script>
        // Función para actualizar la hora y el mensaje dinámico
        function updateDateTime() {
            const now = new Date();
            const hours = now.getHours();
            const minutes = now.getMinutes();
            const seconds = now.getSeconds();

            // Determinar el mensaje según la hora
            let message = '';
            if (hours === 0) message = 'Ya pasa de media noche, deberías dormir...';
            else if (hours === 1) message = '¿Sabías que AM significa Antes del Meridiano?';
            else if (hours === 2) message = '¿Es en serio? ¿Aún aquí?';
            else if (hours === 3) message = 'Tic-toc... tic-toc...';
            else if (hours === 4) message = 'Despertarás en 4 horas... Es un diminuto recordatorio...';
            else if (hours === 5) message = 'El anterior programador se cansó de esperar y contrataron uno nuevo - Bob Esponja.';
            else if (hours >= 6 && hours < 7) message = 'Buen día...';
            else if (hours >= 7 && hours < 12) message = 'Tomar una ducha, preparar el desayuno, ir al trabajo, blah, blah...';
            else if (hours >= 12 && hours < 14) message = 'Buen turno, cuida tu corazón de las camotizas, corrompen hasta al más pacífico.';
            else if (hours >= 14 && hours < 19) message = 'Media jornada terminada, tómate un respiro.';
            else if (hours >= 19 && hours < 23) message = 'Aun cuando esté ausente, siempre estaré presente. :)';
            else if (hours >= 23 && hours < 24) message = 'Cuéntame de tu día...';

            // Formatear hora
            const formattedTime = `${hours % 12 || 12}:${minutes.toString().padStart(2, '0')}:<span id="seconds">${seconds.toString().padStart(2, '0')}</span> ${hours >= 12 ? 'PM' : 'AM'}`;

            // Actualizar título dinámico
            document.getElementById('currentDateTime').innerHTML = `${formattedTime} - ${message}`;
        }

        // Actualizar fecha y hora cada segundo
        setInterval(updateDateTime, 1000);
        updateDateTime();

        // Botón para ocultar contenido
        document.getElementById("toggleContentButton").addEventListener("click", function () {
            document.body.classList.toggle("hidden");
        });

        // Botón para mostrar texto oculto
        document.getElementById("toggleTextButton").addEventListener("click", function () {
            const timePressed = new Date();
            const data = {
                action: "buttonPressed",
                timePressed: timePressed.toISOString(),
            };

            fetch("http://localhost:5000/button_pressed", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify(data),
            })
            .then(response => response.json())
            .then(data => {
                console.log("Notificación enviada:", data);
            })
            .catch((error) => {
                console.error("Error al enviar la notificación:", error);
            });
        });
    </script>

</body>

</html>
